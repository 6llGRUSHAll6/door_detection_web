# Инструкция по локальному запуску веб-приложения для обнаружения состояния двери

## Требования
- Windows 10/11
- Python 3.6 или выше
- Веб-камера, подключенная к компьютеру

## Шаги по установке и запуску

### 1. Подготовка окружения

1. Скачайте и распакуйте архив с проектом в удобное место на вашем компьютере.

2. Откройте командную строку (cmd) или PowerShell от имени администратора.

3. Перейдите в распакованную директорию проекта:
   ```
   cd путь\к\door_detection_web
   ```

4. Создайте виртуальное окружение Python:
   ```
   python -m venv venv
   ```

5. Активируйте виртуальное окружение:
   ```
   venv\Scripts\activate
   ```

6. Установите необходимые зависимости:
   ```
   pip install -r requirements.txt
   ```

### 2. Запуск приложения

1. Убедитесь, что веб-камера подключена к компьютеру и работает.

2. Запустите Flask-приложение:
   ```
   python src\main.py
   ```

3. Откройте веб-браузер и перейдите по адресу:
   ```
   http://localhost:5000
   ```

### 3. Использование приложения

1. При первом запуске нажмите кнопку "Калибровка" для захвата эталонного кадра с закрытой дверью.

2. После калибровки система начнет отслеживать состояние двери:
   - При открытии двери все окна будут свернуты
   - При закрытии двери (после того, как она была открыта) окна будут восстановлены

3. В разделе "Настройки" вы можете изменить параметры чувствительности:
   - Порог чувствительности: определяет, насколько сильно должны отличаться пиксели для обнаружения изменений
   - Минимальная площадь изменений: определяет, какой процент кадра должен измениться для определения открытия двери

### 4. Решение проблем

1. Если камера не определяется:
   - Убедитесь, что камера подключена и работает в других приложениях
   - Проверьте, не используется ли камера другим приложением
   - Попробуйте перезапустить приложение

2. Если система некорректно определяет состояние двери:
   - Выполните повторную калибровку при закрытой двери
   - Настройте параметры чувствительности
   - Убедитесь, что освещение стабильно и камера направлена на дверь

3. Если окна не сворачиваются/разворачиваются:
   - Убедитесь, что приложение запущено от имени администратора
   - Проверьте, не блокирует ли антивирус или другое ПО управление окнами

### 5. Завершение работы

1. Для остановки приложения нажмите Ctrl+C в командной строке.

2. Деактивируйте виртуальное окружение:
   ```
   deactivate
   ```
